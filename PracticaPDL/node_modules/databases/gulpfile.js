'use strict';

var gulp = require("gulp");
var babel = require("gulp-babel");
var eslint = require("gulp-eslint");
var del = require("del");

var srcDir = "./src/";
var outDir = "./dist/";

gulp.task("lint", function () {
  return gulp.src("src/**/*.js")
    .pipe(eslint())
    .pipe(eslint.format())
    .pipe(eslint.result(result => {
        // Called for each ESLint result.
        console.log(`ESLint result: ${result.filePath}`);
        console.log(`# Messages: ${result.messages.length}`);
        console.log(`# Warnings: ${result.warningCount}`);
        console.log(`# Errors: ${result.errorCount}`);
    }))
});


gulp.task("build",["clean"], function () {
  return gulp.src("src/**/*.js")
    .pipe(babel())
    .pipe(gulp.dest(outDir))
});

gulp.task('clean', function() {
    return del(outDir);
});
